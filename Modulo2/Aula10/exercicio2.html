<!DOCTYPE html>
<html lang="pt-br" prefix="og: https://ogp.me/ns#">
    <head>
        <title>A Ligação</title>
        <meta property="og:title" content="Site de sistemas" />
        <meta property="og:description" content="Projeto criado pela turma Lovelace de aspirantes a AlphaEdTech." />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://luisgustavoczp.github.io/my_first_steps/Modulo2/Aula9/exercicio1.html" />
        <meta property="og:image" content="arcadia.jpg" />
        <meta property="og:image:width" content="300" />
        <meta property="og:image:height" content="300" />
    </head>
    <body style="display: flex; flex-direction: column; align-content: center;">
        <h1 style="text-align: center;">Gameplay Mobile Legends : Gloo</h1>
        <video id="videoplayer" poster="arcadia.jpg" height="400" controls>
            Desculpa, o seu navegador não suporta vídeos incorporados
        </video>
        <button id="videobutton" onclick="nextVideo ()">Proximo</button>
        <section id="audiosector" style="display:flex; align-self: center;">
            <h4>Ouça apenas a musica</h4>
            <audio id="audioplayer" src="thefatrat-arcadia-chapter2.ogg" controls>
                O seu navegador não suporta o elemento <code>audio</code>.
            </audio>
        </section>
    </body>
    <script>
        var videos = ["mobilelegendsgloo.mp4", "mobilelegendsgloo0.mp4", "mobilelegendsgloo1.mp4", "mobilelegendsgloo2.mp4", "mobilelegendsgloo3.mp4", "mobilelegendsgloo4.mp4"];
        var videoPlayer = document.getElementById("videoplayer");
        var audioPlayer = document.getElementById("audioplayer");
        //var videoNextButton = document.getElementById("videobutton");
        var audioSector = document.getElementById("audiosector");
        var pause = true;
        var videoNumber = 0;
        //videoPlayer.onload = onVideoLoad;
        videoPlayer.onpause = onVideoPause;
        //videoPlayer.oncanplay = onVideoCanPlay;
        videoPlayer.onplay = onVideoPlay;
        videoPlayer.playbackRate = 2;
        videoPlayer.onended = onVideoEnded;
        audioPlayer.onended = onAudioEnded;

        videoPlayer.src = videos[videoNumber++];

        function onVideoPlay (evt)
        {
            pause = false;
            audioPlayer.play();
            //audioSector.setAttribute("hidden", "");
        }

        function onVideoPause (evt)
        {
            pause = true;
            audioPlayer.pause();
            //audioSector.removeAttribute("hidden");
        }

        function onVideoEnded (evt)
        {
            audioPlayer.pause();
            if(videoNumber >= videos.length) videoNumber = 0;
            videoPlayer.src = videos[videoNumber++];
            videoPlayer.play();
        }

        function onAudioEnded (evt)
        {
            audioPlayer.play();
            audioPlayer.currentTime = 60;
            
        }

        function nextVideo ()
        {
            if(videoNumber >= videos.length) videoNumber = 0;
            videoPlayer.src = videos[videoNumber++];
            videoPlayer.play();
            //pause = !pause;
            //videoButton.textContent = pause ? "Play" : "Pause";
            //if(!pause) videoPlayer.play();
            //else videoPlayer.pause();
        }
    </script>
</html>